(this["webpackJsonpmovie-recommender"]=this["webpackJsonpmovie-recommender"]||[]).push([[0],{102:function(e,t,n){},106:function(e,t){},108:function(e,t){},123:function(e,t,n){"use strict";n.r(t);var c=n(6),i=n(0),a=n.n(i),r=n(11),s=n.n(r),o=(n(102),n(53),n(61)),j=n(60),l=n.n(j),d=n(71),u=n(30),b=n(177),h=n(171),m=n(176),O=n(172),f=n(72),x=n(174),v=n(175),p=n(164),g=n(167),y=n(168),k=n(179),T=n(178),N=n(169),S=n(78),w=n.n(S),E=n(80),L=n.n(E),C=n(180),I="https://gc-movie-recommender.herokuapp.com/movie/",M=(new Date).getTime(),D=n(50),F=n.n(D),P=n(81),A=n.n(P),B=n(170),J=function(e){var t=e.movieName,n=e.movieId,a=Object(i.useState)(0),r=Object(u.a)(a,2),s=r[0],o=r[1],j=3;return Object(c.jsxs)(p.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)(T.a,{children:Object(c.jsx)(w.a,{})})}),Object(c.jsx)(k.a,{primary:t,secondary:Object(c.jsx)(C.a,{defaultValue:3,getAriaValueText:function(e){return"".concat(e)},"aria-labelledby":"discrete-slider-small-steps",step:1,marks:!0,min:0,max:5,onChange:function(e,t){j=t},valueLabelDisplay:"auto",disabled:0!==s})}),Object(c.jsxs)(y.a,{children:[0===s&&Object(c.jsx)(N.a,{edge:"end","aria-label":"send",onClick:function(){!function(e,t){try{if(!n)return;o(1),fetch(I+"add/"+M+"/"+e+"/"+t).then((function(e){setTimeout((function(){o(2)}),1e3*Math.random())})).catch((function(){o(3)}))}catch(c){o(3)}}(n,j)},children:Object(c.jsx)(B.a,{title:"Send rating",children:Object(c.jsx)(L.a,{})})}),1===s&&Object(c.jsx)(h.a,{size:30}),2===s&&Object(c.jsx)(A.a,{}),3===s&&Object(c.jsx)(F.a,{})]})]})},R=function(){var e=Object(i.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),s=Object(u.a)(r,2),j=s[0],p=s[1],g=Object(i.useState)([]),y=Object(u.a)(g,2),k=y[0],T=y[1],N=Object(i.useState)(0),S=Object(u.a)(N,2),w=S[0],E=S[1];Object(i.useEffect)((function(){!function(){var e=[];fetch("https://gc-movie-recommender.herokuapp.com/get-all-movies").then((function(e){return e.text()})).then(function(){var t=Object(d.a)(l.a.mark((function t(n){var c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(!0),c=Object(f.a)(n),(i=c.data).shift(),i.forEach((function(t){var n=t[1];t[1]&&e.push({label:n})})),T(e),setTimeout((function(){a(!1)}),1500);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}()}),[]);var L=Object(O.a)({limit:50});return Object(c.jsxs)("div",{children:[n&&Object(c.jsxs)("div",{className:"center",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("h2",{children:"Loading movie titles ..."})]}),!n&&Object(c.jsxs)("div",{children:[Object(c.jsx)("form",{children:Object(c.jsx)(b.a,{id:"combo-box-demo",filterOptions:L,options:k,getOptionLabel:function(e){return e.label},style:{width:300},onChange:function(e,t){try{if(!t)return;E(1),fetch(I+t.label).then((function(e){return e.json()})).then((function(e){p(e),setTimeout((function(){E(2)}),1e3)})).catch((function(){E(3)}))}catch(n){E(3)}},renderInput:function(e){return Object(c.jsx)(m.a,Object(o.a)(Object(o.a)({},e),{},{label:"Enter your favorite movie",variant:"outlined"}))}})}),1===w&&Object(c.jsxs)("div",{className:"center",children:[" ",Object(c.jsx)(h.a,{})," Looking for movies you may like ..."]}),2===w&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"center",children:" We think you will like these movies. Help us improve the predictions by sending your ratings."}),Object(c.jsx)("div",{className:"recommend-body",children:Object(c.jsx)(v.a,{maxWidth:"sm",children:Object(c.jsx)(x.a,{children:j.map((function(e){return e&&e.Title?Object(c.jsx)(J,{movieName:e.Title,movieId:e.Id},e.Title):Object(c.jsx)("div",{})}))})})})]}),3===w&&Object(c.jsxs)("div",{className:"center",children:[" ",Object(c.jsx)(F.a,{})," Error. Please try again"]})]})]})};n(122);var V=function(){return Object(c.jsxs)("div",{className:"body-card",children:[Object(c.jsx)("header",{children:"Movie Recommender"}),Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"footer",children:Object(c.jsxs)("div",{children:["Movie data source: ",Object(c.jsx)("a",{href:"http://files.grouplens.org/datasets/movielens/ml-latest-small-README.html",target:"_blank",children:"GroupLens"})]})})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root")),W()},53:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.3c0a3684.chunk.js.map